<?php 

/**----------------------------------------- Item description ----------------------------------------**/
$item_image_iq  = array(
                        1 => array('id' => 'IQ01', 'price' => 1000, 'name' => 'Image IQ', 'thumb' => 'imageiq-thumb.png'), 
                        2 => array('id' => 'IQ02', 'price' => 1700, 'name' => 'Image IQ + Capture Bundle', 'thumb' => 'imageiq-thumb.png')
                       );

$item_software = array(

                        1 => array('id' => 'SL01', 'price' => 1500, 'name' => 'Capture + Editor (Upgrade Bundle)', 'thumb' => 'software-thumb.png'), 
                        2 => array('id' => 'SL02', 'price' => 5500, 'name' => 'Capture (New License)', 'thumb' => 'capture-thumb.png'),
                        3 => array('id' => 'SL03', 'price' => 750,  'name' => 'Capture (Upgrade)', 'thumb' => 'capture-thumb.png'), 
                        4 => array('id' => 'SL04', 'price' => 1499, 'name' => 'Editor (New License)', 'thumb' => 'editor-thumb.png'), 
                        5 => array('id' => 'SL05', 'price' => 500,  'name' => 'Editor (Upgrade)', 'thumb' => 'editor-thumb.png'), 
                        6 => array('id' => 'SL06', 'price' => 7700, 'name' => 'Capture + Editor (New License)', 'thumb' => 'software-thumb.png')
                       );
/********************************************************************************************************/

$credit_card_name  = array(
		 						'visa'       => 'Visa',
								'mastercard' => 'MasterCard',
								'amex'       => 'American Express',
								'discover  ' => 'Discover',
		 				   );

$country_list = array(
						    //"AF"=>"AFGHANISTAN",
							//"AL"=>"ALBANIA", 
							//"DZ"=>"ALGERIA", 
							//"AD"=>"ANDORRA", 
							//"AO"=>"ANGOLA", 
							//"AQ"=>"ANTARCTICA", 
							"US"=>"UNITED STATES", 
							"CA"=>"CANADA",
							"AR"=>"ARGENTINA", 
							//"AM"=>"ARMENIA",
							"AU"=>"AUSTRALIA", 
							"AT"=>"AUSTRIA", 
							//"AZ"=>"AZERBAIJAN", 
							"BS"=>"BAHAMAS", 
							"BH"=>"BAHRAIN", 
							"BD"=>"BANGLADESH", 
							"BB"=>"BARBADOS", 
							"BY"=>"BELARUS", 
							"BE"=>"BELGIUM", 
							"BT"=>"BHUTAN", 
							"BO"=>"BOLIVIA", 
							"BA"=>"BOSNIA AND HERZEGOVINA", 
							//"BW"=>"BOTSWANA", 
							"BR"=>"BRAZIL", 
							"BN"=>"BRUNEI DARUSSALAM", 
							"BG"=>"BULGARIA", 
							"KH"=>"CAMBODIA", 
							"CM"=>"CAMEROON", 
							//"CI"=>"COTE Dâ€™IVOIRE", 
							//"TD"=>"CHAD", 
							"CL"=>"CHILE", 
							"CN"=>"CHINA", 
							"CO"=>"COLOMBIA", 
							//"KM"=>"COMOROS", 
							//"CG"=>"CONGO", 
							"CR"=>"COSTA RICA", 
							"HR"=>"CROATIA", 
							"CU"=>"CUBA", 
							"CY"=>"CYPRUS", 
							"CZ"=>"CZECH REPUBLIC", 
							"DK"=>"DENMARK", 
							//"DM"=>"DOMINICA", 
							"EC"=>"ECUADOR", 
							"EG"=>"EGYPT", 
							//"ER"=>"ERITREA", 
							"EE"=>"ESTONIA", 
							//"ET"=>"ETHIOPIA", 
							//"FO"=>"FAROE ISLANDS", 
							"FJ"=>"FIJI", 
							"FI"=>"FINLAND", 
							"FR"=>"FRANCE", 
							"GE"=>"GEORGIA", 
							"DE"=>"GERMANY", 
							"GH"=>"GHANA", 
							//"GI"=>"GIBRALTAR", 
							"GR"=>"GREECE", 
							"GT"=>"GUATEMALA", 
							//"GY"=>"GUYANA", 
							"HN"=>"HONDURAS", 
							"HK"=>"HONG KONG", 
							"HU"=>"HUNGARY", 
							"IS"=>"ICELAND", 
							"IN"=>"INDIA", 
							"ID"=>"INDONESIA", 
							"IQ"=>"IRAQ", 
							"IE"=>"IRELAND", 
							"IL"=>"ISRAEL", 
							"IT"=>"ITALY", 
							"JM"=>"JAMAICA", 
							"JP"=>"JAPAN", 
							"JO"=>"JORDAN", 
							//"KZ"=>"KAZAKHSTAN", 
							//"KE"=>"KENYA", 
							//"KI"=>"KIRIBATI",
							"KR"=>"KOREA, REPUBLIC OF", 
							"KW"=>"KUWAIT", 
							"KG"=>"KYRGYZSTAN", 
							"LA"=>"LAOS", 
							"LV"=>"LATVIA", 
							"LB"=>"LEBANON", 
							//"LS"=>"LESOTHO", 
							//"LR"=>"LIBERIA", 
							//"LY"=>"LIBYA", 
							"LI"=>"LIECHTENSTEIN", 
							"LT"=>"LITHUANIA", 
							"LU"=>"LUXEMBOURG", 
							"MO"=>"MACAO", 
							"MK"=>"MACEDONIA, REPUBLIC OF", 
							"MG"=>"MADAGASCAR", 
							//"MW"=>"MALAWI", 
							"MY"=>"MALAYSIA", 
							"MV"=>"MALDIVES", 
							//"ML"=>"MALI", 
							"MT"=>"MALTA", 
							"MX"=>"MEXICO", 
							//"FM"=>"MICRONESIA, FEDERATED STATES OF", 
							"MD"=>"MOLDOVA", 
							"MC"=>"MONACO", 
							"MN"=>"MONGOLIA", 
							"MA"=>"MOROCCO", 
							"MZ"=>"MOZAMBIQUE", 
							"MM"=>"MYANMAR", 
							"NA"=>"NAMIBIA", 
							"NP"=>"NEPAL", 
							"NL"=>"NETHERLANDS",
							"NZ"=>"NEW ZEALAND", 
							//"NI"=>"NICARAGUA",
							"NG"=>"NIGERIA",
							"NO"=>"NORWAY", 
							"OM"=>"OMAN", 
							"PK"=>"PAKISTAN", 
							//"PW"=>"PALAU", 
							"PA"=>"PANAMA", 
							"PG"=>"PAPUA NEW GUINEA", 
							"PY"=>"PARAGUAY", 
							"PE"=>"PERU", 
							"PH"=>"PHILIPPINES", 
							"PL"=>"POLAND", 
							"PT"=>"PORTUGAL", 
							"PR"=>"PUERTO RICO", 
							"QA"=>"QATAR", 
							"RO"=>"ROMANIA", 
							"RU"=>"RUSSIA", 
							"SM"=>"SAN MARINO", 
							"SA"=>"SAUDI ARABIA", 
							"SN"=>"SENEGAL", 
							"CS"=>"SERBIA, REPUBLIC OF", 
							//"SL"=>"SIERRA LEONE", 
							"SG"=>"SINGAPORE", 
							"SK"=>"SLOVAKIA", 
							"SI"=>"SLOVENIA", 
							//"SO"=>"SOMALIA", 
							"ZA"=>"SOUTH AFRICA", 
							"ES"=>"SPAIN", 
							"LK"=>"SRI LANKA", 
							//"SD"=>"SUDAN", 
							//"SZ"=>"SWAZILAND", 
							"SE"=>"SWEDEN", 
							"CH"=>"SWITZERLAND", 
							//"SY"=>"SYRIAN ARAB REPUBLIC", 
							"TW"=>"TAIWAN", 
							//"TJ"=>"TAJIKISTAN", 
							//"TZ"=>"TANZANIA UNITED REPUBLIC OF", 
							"TH"=>"THAILAND", 
							"TL"=>"TIMOR-LESTE, DEMOCRATIC PEOPLE'S REPUBLIC OF", 
							//"TG"=>"TOGO", 
							//"TK"=>"TOKELAU", 
							//"TO"=>"TONGA", 
							"TT"=>"TRINIDAD AND TOBAGO", 
							"TN"=>"TUNISIA", 
							"TR"=>"TURKEY", 
							//"TM"=>"TURKMENISTAN", 
							"UG"=>"UGANDA", 
							"UA"=>"UKRAINE", 
							"AE"=>"UNITED ARAB EMIRATES", 
							"GB"=>"UNITED KINGDOM", 
							
							"UY"=>"URUGUAY", 
							//"UZ"=>"UZBEKISTAN",  
							"VE"=>"VENEZUELA", 
							"VN"=>"VIETNAM", 
							"YE"=>"YEMEN", 
							//"ZM"=>"ZAMBIA", 
							//"ZW"=>"ZIMBABWE"
					);

$state_list = array(
                        "AK" => "AK Alaska",
                        "AL" => "AL Alabama",
                        "AR" => "AR Arkansas",
                        "AS" => "AS American Samoa",
                        "AZ" => "AZ Arizona",
                        "CA" => "CA California",
                        "CO" => "CO Colorado",
                        "CT" => "CT Connecticut",
                        "DC" => "DC District of Columbia",
                        "DE" => "DE Delaware",
                        "FL" => "FL Florida",
                        "FM" => "FM Federated States of Micronesia",
                        "GA" => "GA Georgia",
                        "GU" => "GU Guam",
                        "HI" => "HI Hawaii",
                        "IA" => "IA Iowa",
                        "ID" => "ID Idaho",
                        "IL" => "IL Illinois",
                        "IN" => "IN Indiana",
                        "KS" => "KS Kansas",
                        "KY" => "KY Kentucky",
                        "LA" => "LA Louisiana",
                        "MA" => "MA Massachusetts",
                        "MD" => "MD Maryland",
                        "ME" => "ME Maine",
                        "MH" => "MH Marshall Islands",
                        "MI" => "MI Michigan",
                        "MN" => "MN Minnesota",
                        "MO" => "MO Missouri",
                        "MP" => "MP Northern Mariana Islands",
                        "MS" => "MS Mississippi",
                        "MT" => "MT Montana",
                        "NC" => "NC North Carolina",
                        "ND" => "ND North Dakota",
                        "NE" => "NE Nebraska",
                        "NH" => "NH New Hampshire",
                        "NJ" => "NJ New Jersey",
                        "NM" => "NM New Mexico",
                        "NV" => "NV Nevada",
                        "NY" => "NY New York",
                        "OH" => "OH Ohio",
                        "OK" => "OK Oklahoma",
                        "OR" => "OR Oregon",
                        "PA" => "PA Pennsylvania",
                        "PR" => "PR Puerto Rico",
                        "PW" => "PW Palau",
                        "RI" => "RI Rhode Island",
                        "SC" => "SC South Carolina",
                        "SD" => "SD South Dakota",
                        "TN" => "TN Tennessee",
                        "TX" => "TX Texas",
                        "UT" => "UT Utah",
                        "VA" => "VA Virginia",
                        "VI" => "VI Virgin Islands",
                        "VT" => "VT Vermont",
                        "WA" => "WA Washington",
                        "WI" => "WI Wisconsin",
                        "WV" => "WV West Virginia",
                        "WY" => "WY Wyoming",
                        "AA" => "AA Army Post Office",
                        "AE" => "AE Army Post Office",
                        "AP" => "AP Army Post Office",
                        "FP" => "FP Fleet Post Office" 
						);

function getIp(){

		  if (!empty($_SERVER['HTTP_CLIENT_IP']))
		  //check ip from share internet
		  {
		    $ip=$_SERVER['HTTP_CLIENT_IP'];
		  }
		  elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR']))
		  //to check ip is pass from proxy
		  {
		    $ip=$_SERVER['HTTP_X_FORWARDED_FOR'];
		  }
		  else
		  {
		    $ip=$_SERVER['REMOTE_ADDR'];
		  }
		  return $ip;
}

/// DB Config
require_once(dirname(dirname(__FILE__)).'/inc/db.php');

function generate_order_no( $length = 7, $chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ123456789')
    {
        $year = substr(date('Y'),-1);

        // Length of character list
        $chars_length = (strlen($chars) - 1);

        // Start our string
        $string = $chars{rand(0, $chars_length)};

        // Generate random string
        for ($i = 1; $i < $length; $i = strlen($string))
        {
            // Grab a random character from our list
            $r = $chars{rand(0, $chars_length)};

            // Make sure the same two characters don't appear next to each other
            if ($r != $string{$i - 1}) $string .=  $r;
        }
		

        $order_number = $string;

        /*
         * Check duplicate order number
         */

        $query = mysql_query('select * from store_order where order_no="'.$order_number.'"');
        $row = mysql_fetch_row($query);


        if($row == 0){
			
            return $order_number;

        }else{ // if order number is duplicate. The system will try to generate again.

            generate_order_no();

        }



        // Return the string
        //return $year.$string;
    }










?>